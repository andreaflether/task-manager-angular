<h2 class="py-2 mt-2 mb-3 border-bottom">Task details: <b>{{ task.title }}</b></h2>

<form [formGroup]="reactiveTaskForm" (ngSubmit)="updateTask()">
  <div class="row">
    <div class="form-group col-lg-6">
      <label for="title">Title <span class="required" title="Required">*</span></label>
      <input 
        type="text" 
        formControlName="title" 
        class="form-control"
        [class.is-invalid]="showFieldError(reactiveTaskForm.get('title'))"
        [class.is-valid]="reactiveTaskForm.get('title').valid">
      <div class="valid-feedback">Looks good!</div>
      <div class="invalid-feedback" *ngIf="showFieldError(reactiveTaskForm.get('title'))">
        <span *ngIf="reactiveTaskForm.get('title').errors.required">Title can't be blank.</span>
        <span *ngIf="reactiveTaskForm.get('title').errors.minlength">Title must have at least 2 characters.</span>
        <span *ngIf="reactiveTaskForm.get('title').errors.maxlength">Title is too big. Maximum is 255 characters.</span>
      </div>
    </div>
    <div class="form-group col-lg-3">
      <label for="deadline">Deadline <span class="required" title="Required">*</span></label>
      <input 
        type="text" 
        formControlName="deadline" 
        class="form-control" 
        id="deadline"
        [class.is-invalid]="showFieldError(reactiveTaskForm.get('deadline'))"
        [class.is-valid]="reactiveTaskForm.get('deadline').valid"
        autocomplete="off">
      <div class="invalid-feedback">Deadline can't be blank.</div>
    </div>
    <div class="form-group col-lg-3">
      <label for="done">Status <span class="required" title="Required">*</span></label>
      <select 
        class="form-control" 
        id="done" 
        formControlName="done"
        [class.is-invalid]="showFieldError(reactiveTaskForm.get('done'))"
        [class.is-valid]="reactiveTaskForm.get('done').valid">
        <option *ngFor="let option of taskDoneOptions" [value]="option.value">{{ option.text }}</option>
      </select>
      <div class="invalid-feedback">Please select a status.</div>
    </div>
    <div class="form-group col-lg-12">
      <label for="description">Description</label>
      <textarea formControlName="description" class="form-control"></textarea>
    </div>
  </div>
  <div class="actions d-flex justify-content-between">
    <button class="btn btn-light" type="button" (click)="goBack()">Voltar</button>
    <button [disabled]="reactiveTaskForm.invalid" type="submit" class="btn btn-primary">Save</button>
  </div>
</form>

<!-- <form #taskForm="ngForm" (ngSubmit)="updateTask()">
  <div class="row">
    <div class="form-group col-lg-6">
      <label for="title">Title <span class="required" title="Required">*</span></label>
      <input 
        #title="ngModel" 
        [(ngModel)]="task.title" 
        [class.is-invalid]="showFieldError(title)"
        [class.is-valid]="title.valid"
        name="title" 
        type="text" 
        class="form-control" 
        id="title" 
        aria-describedby="title"
        required
        autocomplete="off"
        maxlength="255"
        minlength="2">
        <div class="valid-feedback">Looks good!</div>
        <div class="invalid-feedback" *ngIf="showFieldError(title)">
          <span *ngIf="title.errors.required">Title can't be blank.</span>
          <span *ngIf="title.errors.minlength">Title must have at least {{ title.errors.minlength.requiredLength }} characters.</span>
          <span *ngIf="title.errors.maxlength">Title is too big. Maximum is 255 characters.</span>
        </div>
    </div>
    <div class="form-group col-lg-3">
      <label for="deadline">Deadline <span class="required" title="Required">*</span></label>
      <input 
        [(ngModel)]="task.deadline" 
        #deadline="ngModel"
        [class.is-invalid]="showFieldError(deadline)"
        [class.is-valid]="deadline.valid"
        name="deadline" 
        type="text" 
        class="form-control" 
        id="deadline" 
        aria-describedby="deadline"
        autocomplete="off"
        required>
      <div class="invalid-feedback">Deadline can't be blank.</div>
    </div>
    <div class="form-group col-lg-3">
      <label for="deadline">Status <span class="required" title="Required">*</span></label>
      <select 
        [(ngModel)]="task.done" 
        #done="ngModel"
        [class.is-invalid]="showFieldError(done)"
        [class.is-valid]="done.valid"
        name="done" 
        type="text" 
        class="form-control" 
        id="done" 
        aria-describedby="done"
        required>
        <option *ngFor="let option of taskDoneOptions" [value]="option.value">{{ option.text }}</option>
      </select>
      <div class="invalid-feedback">Please select a status.</div>
    </div>
    <div class="form-group col-lg-12">
      <label for="title">Description</label>
      <textarea [(ngModel)]="task.description" name="description" class="form-control" id="description" aria-describedby="description"></textarea>
    </div>
  </div>
  <div class="actions d-flex justify-content-between">
    <button class="btn btn-light" (click)="goBack()">Voltar</button>
    <button [disabled]="taskForm.invalid" type="submit" class="btn btn-primary">Save</button>
  </div>
</form> -->